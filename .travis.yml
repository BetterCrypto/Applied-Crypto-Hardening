# Copyright (C) 2018 Sebastian Pipping <sebastian@pipping.org>
# Licensed under CC-BY-SA 3.0
# https://creativecommons.org/licenses/by-sa/3.0/

language: cpp
dist: xenial

addons:
  apt:
    packages:
      - build-essential
      - ruby-dev
      - zlib1g-dev

install:
  - set -e
  - gem install bundler
  - bundle install
  - bundle outdated || true

script:
  - set -e
  - cd src
  - asciidoctor
        --failure-level=WARN
        -r asciidoctor-diagram
        -r asciidoctor-bibliography
        applied-crypto-hardening.adoc
  - asciidoctor-pdf
        --failure-level=WARN
        -r asciidoctor-diagram
        -r asciidoctor-bibliography
        applied-crypto-hardening.adoc
